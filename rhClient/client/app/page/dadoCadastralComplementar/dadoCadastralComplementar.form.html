<div class="page" ng-controller="dadoCadastralComplFormCtrl">
    <div class="row ui-section">
        <div class="col-lg-8 clearfix">
            <h2 class="section-header">{{!detalhes ? 'Dados Cadastrais Complementares' : 'Detalhes dos Dados Cadastrais
                Complementares'}}</h2>
        </div>
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div>
                                <div layout layout-sm="column">
                                    <md-input-container flex>
                                        <label>Descrição da Empresa</label>
                                        <input ng-disabled="true"
                                            ng-model="dadoCadastralCompl.funcionario.empresa.nomeFilial">
                                    </md-input-container>
                                </div>
                                <div layout layout-sm="column">
                                    <md-input-container flex>
                                        <label>Matrícula</label>
                                        <input ng-disabled="true" ng-model="dadoCadastralCompl.funcionario.matricula">
                                    </md-input-container>
                                    <md-input-container flex>
                                        <label>Nome do Funcionário</label>
                                        <input ng-disabled="true" ng-model="dadoCadastralCompl.funcionario.nome">
                                    </md-input-container>
                                </div>
                            </div>
                            <form ng-disabled="detalhes" name="dadoCadastralComplForm" ng-submit="save()">
                                <div layout="column" ng-cloak class="md-inline-form inputdemoBasicUsage">
                                    <md-tabs md-dynamic-height md-border-bottom>
                                        <md-tab label="Equipamentos Pessoais">
                                            <md-content class="md-padding">
                                                <div class="divider divider"></div>
                                                <div layout layout-sm="column">
                                                    <md-input-container flex>
                                                        <label>Fardamento</label>
                                                        <md-select ng-disabled="detalhes"
                                                            ng-model="dadoCadastralCompl.fardamento" name="fardamento">
                                                            <md-option ng-value=null><em>-- Selecione --</em>
                                                            </md-option>
                                                            <md-option ng-repeat="fardamento in list.fardamento"
                                                                value="{{fardamento.value}}">
                                                                {{fardamento.label}}
                                                            </md-option>
                                                        </md-select>
                                                    </md-input-container>
                                                    <md-input-container flex>
                                                        <label>Calçado</label>
                                                        <input ng-disabled="detalhes"
                                                            ng-model="dadoCadastralCompl.calcado" name="calcado">
                                                    </md-input-container>
                                                    <md-input-container flex>
                                                        <label>Altura</label>
                                                        <input ng-disabled="detalhes"
                                                            ng-model="dadoCadastralCompl.altura" name="altura"
                                                            ui-number-mask="2" ui-hide-group-sep>
                                                    </md-input-container>
                                                    <md-input-container flex>
                                                        <label>Peso</label>
                                                        <input ng-disabled="detalhes" ng-model="dadoCadastralCompl.peso"
                                                            name="peso" ui-number-mask="2" ui-hide-group-sep>
                                                    </md-input-container>
                                                </div>
                                            </md-content>
                                        </md-tab>
                                        <md-tab label="Condições de Saúde">
                                            <md-content class="md-padding">
                                                <div class="divider divider"></div>
                                                <div layout layout-sm="column">
                                                    <md-input-container flex>
                                                        <label>Condição de Retorno ao Trabalho</label>
                                                        <md-select ng-disabled="detalhes"
                                                            ng-model="dadoCadastralCompl.condicaoRetornoTrabalho"
                                                            name="condicaoRetornoTrabalho" required>
                                                            <md-option
                                                                ng-repeat="condicaoRetornoTrabalho in list.condicaoRetornoTrabalho"
                                                                value="{{condicaoRetornoTrabalho.value}}">
                                                                {{condicaoRetornoTrabalho.label}}
                                                            </md-option>
                                                        </md-select>
                                                        <div ng-messages="dadoCadastralComplForm.condicaoRetornoTrabalho.$error"
                                                            multiple role="alert">
                                                            <div ng-message="required">Campo de preenchimento
                                                                obrigatório.</div>
                                                        </div>
                                                    </md-input-container>
                                                    <div class="col-md-4 text-center">
                                                        <md-input-container class="md-block">
                                                            <label>Data de Início da Deficiência</label>
                                                            <md-icon class="material-icons icon-momentpicker"
                                                                ng-class="md-datepicker-calendar-icon"
                                                                aria-label="md-calendar">date_range</md-icon>
                                                            <input name="dataInicioDeficiencia"
                                                                moment-picker="dadoCadastralCompl.dataInicioDeficiencia"
                                                                placeholder="Selecione a data"
                                                                ng-model="dadoCadastralCompl.dataInicioDeficiencia"
                                                                format="DD/MM/YYYY" locale="pt-br" start-view="month"
                                                                ng-model-options="{ updateOn: 'blur' }"
                                                                ng-disabled="detalhes">
                                                        </md-input-container>
                                                    </div>
                                                    <div class="col-md-4 text-center">
                                                        <md-input-container class="md-block">
                                                            <label>Data do Fim da Deficiência</label>
                                                            <md-icon class="material-icons icon-momentpicker"
                                                                ng-class="md-datepicker-calendar-icon"
                                                                aria-label="md-calendar">date_range</md-icon>
                                                            <input name="dataFimDeficiencia"
                                                                moment-picker="dadoCadastralCompl.dataFimDeficiencia"
                                                                placeholder="Selecione a data"
                                                                ng-model="dadoCadastralCompl.dataFimDeficiencia"
                                                                format="DD/MM/YYYY" locale="pt-br" start-view="month"
                                                                ng-model-options="{ updateOn: 'blur' }"
                                                                ng-disabled="detalhes">
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div layout layout-sm="column">
                                                            <md-input-container style="margin-top: 0%;" flex>
                                                                <label>Reabilitado</label>
                                                                <md-switch ng-disabled="detalhes" name="reabilitado"
                                                                    ng-model="dadoCadastralCompl.reabilitado"
                                                                    aria-label="Reabilitado">
                                                                    {{dadoCadastralCompl.reabilitado ? 'Sim':'Não'}}
                                                                </md-switch>
                                                            </md-input-container>
                                                            <md-input-container style="margin-top: 0%;" flex>
                                                                <label>Cotista</label>
                                                                <md-switch ng-disabled="detalhes" name="cotista"
                                                                    ng-model="dadoCadastralCompl.cotista"
                                                                    aria-label="Estabilidade Probatória">
                                                                    {{dadoCadastralCompl.cotista ? 'Sim':'Não'}}
                                                                </md-switch>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div layout layout-sm="column">
                                                            <md-input-container flex>
                                                                <label>Descrição da Deficiência</label>
                                                                <textarea ng-disabled="detalhes"
                                                                    ng-model="dadoCadastralCompl.descricaoDeficiencia"
                                                                    flex></textarea>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </md-content>
                                        </md-tab>
                                        <md-tab label="Aposentadoria">
                                            <md-content class="md-padding">
                                                <div class="divider divider"></div>
                                                <div class="row">
                                                    <h4 style="margin-left: 1.4%;">Informações de Aposentadoria</h4>
                                                    <div class="col-md-12">
                                                        <md-switch
                                                            ng-model="dadoCadastralCompl.emProcessoDeAposentadoria"
                                                            class="{{dadoCadastralCompl.emProcessoDeAposentadoria === true ? 'ng-valid ng-touched md-checked ng-not-empty ng-dirty ng-valid-parse' : ''}}"
                                                            aria-label="Está em processo de Aposentadoria">
                                                            Está em processo de Aposentadoria
                                                        </md-switch>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div layout layout-sm="column">
                                                            <md-input-container class="md-block">
                                                                <label>Data de Aposentadoria</label>
                                                                <md-icon class="material-icons icon-momentpicker"
                                                                    ng-class="md-datepicker-calendar-icon"
                                                                    aria-label="md-calendar">date_range</md-icon>
                                                                <input name="dataAposentadoria"
                                                                    moment-picker="dadoCadastralCompl.dataAposentadoria"
                                                                    placeholder="Selecione a data"
                                                                    ng-model="dadoCadastralCompl.dataAposentadoria"
                                                                    format="DD/MM/YYYY" locale="pt-br"
                                                                    start-view="month"
                                                                    ng-model-options="{ updateOn: 'blur' }"
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-required="dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                <div class="has-error" style="margin-top: 5px"
                                                                    ng-messages="dadoCadastralComplForm.dataAposentadoria.$error"
                                                                    multiple role="alert">
                                                                    <div ng-message="required">Campo de preenchimento
                                                                        obrigatório.</div>
                                                                </div>
                                                            </md-input-container>
                                                            <md-input-container flex>
                                                                <label>Tipo de Aposentadoria</label>
                                                                <md-select
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.tipoAposentadoria"
                                                                    name="tipoAposentadoria"
                                                                    ng-required="dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                    <md-option
                                                                        ng-repeat="tipoAposentadoria in list.tipoAposentadoria"
                                                                        value="{{tipoAposentadoria.value}}">
                                                                        {{tipoAposentadoria.label}}
                                                                    </md-option>
                                                                </md-select>
                                                                <div ng-messages="dadoCadastralComplForm.tipoAposentadoria.$error"
                                                                    multiple role="alert">
                                                                    <div ng-message="required">Campo de preenchimento
                                                                        obrigatório.</div>
                                                                </div>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div layout layout-sm="column">
                                                            <md-input-container flex>
                                                                <label>Data de Falecimento</label>
                                                                <md-icon class="material-icons icon-momentpicker"
                                                                    ng-class="md-datepicker-calendar-icon"
                                                                    aria-label="md-calendar">date_range</md-icon>
                                                                <input name="dataFalecimento"
                                                                    moment-picker="dadoCadastralCompl.dataFalecimento"
                                                                    placeholder="Selecione a data"
                                                                    ng-model="dadoCadastralCompl.dataFalecimento"
                                                                    format="DD/MM/YYYY" locale="pt-br"
                                                                    start-view="month"
                                                                    ng-model-options="{ updateOn: 'blur' }"
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-8">
                                                        <div layout layout-sm="column">
                                                            <md-input-container flex>
                                                                <label>Tipo de Proporção</label>
                                                                <md-select
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.tipoProporcao"
                                                                    name="tipoProporcao"
                                                                    ng-required="dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                    <md-option
                                                                        ng-repeat="tipoProporcao in list.tipoProporcao"
                                                                        value="{{tipoProporcao.value}}">
                                                                        {{tipoProporcao.label}}
                                                                    </md-option>
                                                                </md-select>
                                                                <div ng-messages="dadoCadastralComplForm.tipoProporcao.$error"
                                                                    multiple role="alert">
                                                                    <div ng-message="required">Campo de preenchimento
                                                                        obrigatório.</div>
                                                                </div>
                                                            </md-input-container>
                                                            <md-input-container flex
                                                                ng-if="dadoCadastralCompl.tipoAposentadoria == 'ESPECIAL_PROFESSOR'">
                                                                <label>Proporcionalidade</label>
                                                                <input
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.proporcionalidade"
                                                                    name="proporcionalidade" ui-number-mask="0"
                                                                    ui-hide-group-sep>
                                                                <md-tooltip md-direction="top">Tempo de Contribuição do
                                                                    funcionário que é professor</md-tooltip>
                                                            </md-input-container>
                                                            <md-input-container flex
                                                                ng-if="dadoCadastralCompl.tipoAposentadoria == 'ESPECIAL_PROFESSOR'">
                                                                <label>Tempo Serviço Professor (meses)</label>
                                                                <input
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.tempoServidorProfessor"
                                                                    name="tempoServidorProfessor" ui-number-mask="0"
                                                                    ui-hide-group-sep>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-8">
                                                        <div layout layout-sm="column">
                                                            <md-input-container class="md-block">
                                                                <label>Nº Processo</label>
                                                                <input
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.numeroProcessoAposentadoria"
                                                                    name="numeroProcessoAposentadoria"
                                                                    ui-number-mask="0" ui-hide-group-sep>
                                                                <md-tooltip md-direction="top">Tempo de Contribuição do
                                                                    funcionário que é professor</md-tooltip>
                                                            </md-input-container>
                                                            <md-input-container flex>
                                                                <label>Local de Redistribuição</label>
                                                                <input
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    ng-model="dadoCadastralCompl.localRedistribuicao"
                                                                    name="localRedistribuicao">
                                                                <md-tooltip md-direction="top">Tempo de Contribuição do
                                                                    funcionário que é professor</md-tooltip>
                                                            </md-input-container>
                                                            <md-input-container flex>
                                                                <label>Data de Distribuição/Cedência</label>
                                                                <md-icon class="material-icons icon-momentpicker"
                                                                    ng-class="md-datepicker-calendar-icon"
                                                                    aria-label="md-calendar">date_range</md-icon>
                                                                <input
                                                                    ng-required="dadoCadastralCompl.emProcessoDeAposentadoria"
                                                                    name="dataDistribuicaoCedencia"
                                                                    moment-picker="dadoCadastralCompl.dataDistribuicaoCedencia"
                                                                    placeholder="Selecione a data"
                                                                    ng-model="dadoCadastralCompl.dataDistribuicaoCedencia"
                                                                    format="DD/MM/YYYY" locale="pt-br"
                                                                    start-view="month"
                                                                    ng-model-options="{ updateOn: 'blur' }"
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                <div class="has-error" style="margin-top: 5px"
                                                                    ng-messages="dadoCadastralComplForm.dataDistribuicaoCedencia.$error"
                                                                    multiple role="alert">
                                                                    <div ng-message="required">Campo de
                                                                        preenchimento obrigatório.</div>
                                                                </div>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <h4>Isenções IR</h4>

                                                        <div layout layout-sm="column">
                                                            <md-input-container flex>
                                                                <label>Data de Início de Insenção</label>
                                                                <md-icon class="material-icons icon-momentpicker"
                                                                    ng-class="md-datepicker-calendar-icon"
                                                                    aria-label="md-calendar">date_range</md-icon>
                                                                <input name="dataInicialIsencaoIr"
                                                                    moment-picker="dadoCadastralCompl.dataInicialIsencaoIr"
                                                                    placeholder="Selecione a data"
                                                                    ng-model="dadoCadastralCompl.dataInicialIsencaoIr"
                                                                    format="DD/MM/YYYY" locale="pt-br"
                                                                    start-view="month"
                                                                    ng-model-options="{ updateOn: 'blur' }"
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                            </md-input-container>
                                                            <md-input-container flex>
                                                                <label>Data Final de Insenção</label>
                                                                <md-icon class="material-icons icon-momentpicker"
                                                                    ng-class="md-datepicker-calendar-icon"
                                                                    aria-label="md-calendar">date_range</md-icon>
                                                                <input name="dataFinalIsencaoIr"
                                                                    moment-picker="dadoCadastralCompl.dataFinalIsencaoIr"
                                                                    placeholder="Selecione a data"
                                                                    ng-model="dadoCadastralCompl.dataFinalIsencaoIr"
                                                                    format="DD/MM/YYYY" locale="pt-br"
                                                                    start-view="month"
                                                                    ng-model-options="{ updateOn: 'blur' }"
                                                                    ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <h4>Isenções Previdência</h4>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div layout layout-sm="column">
                                                                    <md-input-container flex>
                                                                        <label>Data de Início de Insenção</label>
                                                                        <md-icon
                                                                            class="material-icons icon-momentpicker"
                                                                            ng-class="md-datepicker-calendar-icon"
                                                                            aria-label="md-calendar">date_range
                                                                        </md-icon>
                                                                        <input name="dataInicialIsencaoPrevidencia"
                                                                            moment-picker="dadoCadastralCompl.dataInicialIsencaoPrevidencia"
                                                                            placeholder="Selecione a data"
                                                                            ng-model="dadoCadastralCompl.dataInicialIsencaoPrevidencia"
                                                                            format="DD/MM/YYYY" locale="pt-br"
                                                                            start-view="month"
                                                                            change="changeInsecoesPrev()"
                                                                            ng-model-options="{ updateOn: 'blur' }"
                                                                            ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                    </md-input-container>
                                                                    <md-input-container flex>
                                                                        <label>Data Final de Insenção</label>
                                                                        <md-icon
                                                                            class="material-icons icon-momentpicker"
                                                                            ng-class="md-datepicker-calendar-icon"
                                                                            aria-label="md-calendar">date_range
                                                                        </md-icon>
                                                                        <input name="dataFinalIsencaoPrevidencia"
                                                                            moment-picker="dadoCadastralCompl.dataFinalIsencaoPrevidencia"
                                                                            placeholder="Selecione a data"
                                                                            ng-model="dadoCadastralCompl.dataFinalIsencaoPrevidencia"
                                                                            format="DD/MM/YYYY" locale="pt-br"
                                                                            start-view="month"
                                                                            change="changeInsecoesPrev()"
                                                                            ng-model-options="{ updateOn: 'blur' }"
                                                                            ng-disabled="detalhes || !dadoCadastralCompl.emProcessoDeAposentadoria">
                                                                    </md-input-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <md-switch ng-change="changePrevidenciEspecial()"
                                                                    ng-model="dadoCadastralCompl.previdenciaEspecial"
                                                                    class="{{dadoCadastralCompl.previdenciaEspecial === true ? 'ng-valid ng-touched md-checked ng-not-empty ng-dirty ng-valid-parse' : ''}}"
                                                                    aria-label="Previdência Especial">
                                                                    Previdência Especial
                                                                </md-switch>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </md-content>
                                        </md-tab>
                                    </md-tabs>
                                    <div class="row">
                                        <div class="col-md-12 text-center">
                                            <button ng-if="!detalhes" ng-disabled="dadoCadastralComplForm.$invalid"
                                                type="submit" ui-wave class="btn btn-primary btn-w-md">Salvar</button>
                                            <p class="btn btn-default btn-w-md" ui-wave data-ng-click="goBack()">Voltar
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>